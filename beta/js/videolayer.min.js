function videolayer(){function ut(e,t){var n=document.createElement(e);if(t!="")n.className=t;return n}function at(t,n,r,i,s){if(i!=""){t.setAttribute(i,s)}if(n!=""){t.style.cssFloat=window.getComputedStyle(e[s],"").cssFloat;t.style.top=window.getComputedStyle(e[s],"").top;t.style.right=window.getComputedStyle(e[s],"").right;t.style.bottom=window.getComputedStyle(e[s],"").bottom;t.style.left=window.getComputedStyle(e[s],"").left;t.style.width=window.getComputedStyle(e[s],"").width;t.style.height=window.getComputedStyle(e[s],"").height;t.style.marginTop=window.getComputedStyle(e[s],"").marginTop;t.style.marginRight=window.getComputedStyle(e[s],"").marginRight;t.style.marginBottom=window.getComputedStyle(e[s],"").marginBottom;t.style.marginLeft=window.getComputedStyle(e[s],"").marginLeft;t.style.paddingTop=window.getComputedStyle(e[s],"").paddingTop;t.style.paddingRight=window.getComputedStyle(e[s],"").paddingRight;t.style.paddingBottom=window.getComputedStyle(e[s],"").paddingBottom;t.style.paddingLeft=window.getComputedStyle(e[s],"").paddingLeft;v[s]=t.style.width;m[s]=t.style.height;g[s][0]=t.style.marginTop;g[s][1]=t.style.marginRight;g[s][2]=t.style.marginBottom;g[s][3]=t.style.marginLeft;y[s][0]=t.style.paddingTop;y[s][1]=t.style.paddingRight;y[s][2]=t.style.paddingBottom;y[s][3]=t.style.paddingLeft;if(window.getComputedStyle(e[s],"").position!="static"){t.style.position=window.getComputedStyle(e[s],"").position}}}function ft(){for(i=0;i<h;i++){o[i]={container:ut("div","vl_ui"),presentationscreen:ut("div","vl_presentation_screen"),bigplay:ut("div","vl_big_play"),loadingscreen:ut("div","vl_loading_screen"),buffer:ut("div","vl_buffer"),titles:ut("div","vl_title"),videotitle:ut("h1","vl_videotitle"),playlisttitle:ut("h2","vl_playlisttitle"),vidnum:ut("span",""),menus:ut("div","vl_menus"),playlistmenu:ut("div","vl_playlist_menu"),playlisttmbn:ut("div","vl_playlist_thumbnails"),pul:ut("ul",""),playlistbttns:ut("div","vl_playlist_buttons"),pshuffle:ut("button","vl_playlist_shuffle"),prepeat:ut("button","vl_playlist_repeat"),playlistscroll:ut("div","vl_playlist_scroll"),pscrollbar:ut("div","vl_playlist_scrollbar"),captionsmenu:ut("div","vl_captions_menu"),captionslist:ut("div","vl_captions_list"),cul:ut("ul",""),captionsscroll:ut("div","vl_captions_scroll"),cscrollbar:ut("div","vl_captions_scrollbar"),volumemenu:ut("div","vl_volume_menu"),volumecontrol:ut("div","vl_volume_controller"),maxvolume:ut("div","vl_max_volume"),vlevel:ut("div","vl_volume_level"),vbar:ut("div","vl_volume_bar"),controls:ut("div","vl_controls"),loadingbar:ut("div","vl_loadingbar"),timetooltip:ut("div","vl_timetooltip"),loaded:ut("div","vl_loaded"),played:ut("div","vl_played"),timebar:ut("div","vl_timebar"),buttons:ut("div","vl_buttons"),play:ut("button","vl_play"),videotime:ut("p","vl_time"),rightbuttons:ut("ul","vl_rightbuttons"),buttonsli:[],playlist:ut("button","vl_playlist"),captions:ut("button","vl_captions"),repeat:ut("button","vl_repeat"),quality:ut("button","vl_quality"),volume:ut("button","vl_volume vl_loud"),fullscreen:ut("button","vl_fullscreen vl_normal")};at(o[i].container,e[i].clientWidth,e[i].clientHeight,"data-num",i);e[i].parentNode.insertBefore(o[i].container,e[i]);o[i].container.appendChild(e[i]);a=[o[i].playlist,o[i].captions,o[i].repeat,o[i].quality,o[i].volume,o[i].fullscreen];for(j=0;j<6;j++){o[i].buttonsli[j]=ut("li","");o[i].buttonsli[j].appendChild(a[j]);o[i].rightbuttons.appendChild(o[i].buttonsli[j])}o[i].presentationscreen.appendChild(o[i].bigplay);o[i].loadingscreen.appendChild(o[i].buffer);o[i].playlisttitle.appendChild(o[i].vidnum);o[i].titles.appendChild(o[i].videotitle);o[i].titles.appendChild(o[i].playlisttitle);o[i].playlisttmbn.appendChild(o[i].pul);o[i].playlistbttns.appendChild(o[i].pshuffle);o[i].playlistbttns.appendChild(o[i].prepeat);o[i].playlistscroll.appendChild(o[i].pscrollbar);o[i].playlistmenu.appendChild(o[i].playlisttmbn);o[i].playlistmenu.appendChild(o[i].playlistbttns);o[i].playlistmenu.appendChild(o[i].playlistscroll);o[i].captionslist.appendChild(o[i].cul);o[i].captionsscroll.appendChild(o[i].cscrollbar);o[i].captionsmenu.appendChild(o[i].captionslist);o[i].captionsmenu.appendChild(o[i].captionsscroll);o[i].maxvolume.appendChild(o[i].vlevel);o[i].maxvolume.appendChild(o[i].vbar);o[i].volumecontrol.appendChild(o[i].maxvolume);o[i].volumemenu.appendChild(o[i].volumecontrol);o[i].menus.appendChild(o[i].playlistmenu);o[i].menus.appendChild(o[i].captionsmenu);o[i].menus.appendChild(o[i].volumemenu);o[i].loadingbar.appendChild(o[i].timetooltip);o[i].loadingbar.appendChild(o[i].loaded);o[i].loadingbar.appendChild(o[i].played);o[i].loadingbar.appendChild(o[i].timebar);o[i].buttons.appendChild(o[i].play);o[i].buttons.appendChild(o[i].videotime);o[i].buttons.appendChild(o[i].rightbuttons);o[i].controls.appendChild(o[i].loadingbar);o[i].controls.appendChild(o[i].buttons);o[i].container.appendChild(o[i].presentationscreen);o[i].container.appendChild(o[i].loadingscreen);o[i].container.appendChild(o[i].titles);o[i].container.appendChild(o[i].menus);o[i].container.appendChild(o[i].controls);t[i]=[];lt(i);Ct(o[i].container);if(e[i].className.indexOf("vl_playlist")>-1)e[i].className="videolayer vl_playlist vl_video";else e[i].className="videolayer vl_video";n[i]=[r[i][0]];o[i].videotitle.innerHTML=t[i][n[i]][r[0][1]][0].title;$[i]=true;N[i]=[];N[i][0]=[];N[i][1]=[];ot[i]="";if(r[i][0]>0)ht(t[i][n[i]],i);else{dt(t[i][n[i]],i);pt(t[i][n[i]],i)}if(!isNaN(e[i].duration)){I[i]=yt(e[i].duration,i);q[i]=e[i].duration}else I[i]="00:00";if(!isNaN(e[i].currentTime))R=yt(e[i].currentTime,i);else vl_currentTime="00:00";o[i].videotime.innerHTML=R+" / "+I[i];J[i]=0;C[i]=[];L[i]=[];M[i]=[];T[i]=[];T[i][0]=o[i].pul;T[i][1]=o[i].cul;x[i]=true;H[i]=true;P[i]=.7;if(e[i].muted)P[i]=0;e[i].volume=P[i];Y[i]=false;Z[i]=false;D[i]=o[f].vbar.clientHeight;kt(i);o[i].menus.style.height=b[i]+"px";if(P[i]>.5)o[i].volume.className="vl_volume vl_loud";else if(P[i]<=.5&&P[i]>0)o[i].volume.className="vl_volume vl_low";else if(P[i]<=0)o[i].volume.className="vl_volume vl_mute";if(e[i].className.indexOf("vl_playlist")>-1){o[i].vidnum.innerHTML=gt(i)[0]+"/"+gt(i)[1];u[i]=document.createTextNode(e[i].title);o[i].playlisttitle.insertBefore(u[i],o[i].vidnum);o[i].playlisttitle.className="vl_playlisttitle vl_show";o[i].playlist.className="vl_playlist vl_show";st[i]=[];for(j=0;j<gt(i)[1];j++){var s,l,c,p,d,v;st[i][j]=false;s=ut("li","");if(j==r[i][0]){l=ut("figure","vl_current")}else l=ut("figure","");l.setAttribute("data-num",j);c=ut("div","vl_thumbnail");p=ut("figcaption","");d=t[i][j].sd[0].getAttribute("data-tmbn");if(d!=null)c.style.backgroundImage='url("'+d+'")';v=document.createTextNode(t[i][j].sd[0].title);p.appendChild(v);l.appendChild(c);l.appendChild(p);s.appendChild(l);o[i].pul.appendChild(s);N[i][0].push(l)}}Lt(i);if(e[i].autoplay)zt();else o[i].presentationscreen.className="vl_presentation_screen vl_show";if(e[i].loop)ln(o[i].repeat);wt(i)}}function lt(n){var i=e[n].getElementsByTagName("source"),o=e[n].getElementsByTagName("track"),u=0,a=0,f,l;r[n]=[0,"sd"];t[n][u]={sd:[],hd:[],tracks:[]};for(var c=0,h=i.length;c<h;c++){s[n]=[];if(i[c].getAttribute("data-num")!=null)a=i[c].getAttribute("data-num");f=i[c].getAttribute("data-hd");l=i[c].getAttribute("data-default");if(a==u){if(f=="hd"){t[n][a].hd.push(i[c]);if(l=="default")r[n]=[a,"hd"]}else{t[n][a].sd.push(i[c]);if(l=="default")r[n]=[a,"sd"]}}else{u++;t[n][u]={sd:[],hd:[],tracks:[]};if(l=="default")r[n]=a;if(f=="hd"){t[n][a].hd.push(i[c]);if(l=="default")r[n]=[a,"hd"]}else{t[n][a].sd.push(i[c]);if(l=="default")r[n]=[a,"sd"]}}}u=0;var p=0;for(var d=0,h=o.length;d<h;d++){a=o[d].getAttribute("data-num");l=o[d].getAttribute("data-default");if(a==u){t[n][a].tracks.push(o[d]);if(l=="default")s[n][a]=p;p++}else{u++;p=0;t[n][a].tracks.push(o[d]);if(l=="default")s[n][a]=p;p++}}}function ct(e,t,n){if(e.getAttribute(t)==n)return true;else return false}function ht(t,n){var r=e[n].children[0],i=t.sd[0].getAttribute("data-num");if(t.sd.length>0||t.hd.length>0){dt(t,n);if(nt){for(k=0;k<t.hd.length;k++){e[n].insertBefore(t.hd[k],r)}}else{for(k=0;k<t.sd.length;k++){e[n].insertBefore(t.sd[k],r)}}nt=false;e[n].load();e[n].addEventListener("progress",function(){function t(){vt(n);e[n].removeEventListener("progress",t,true)}return t}(),true);e[n].addEventListener("canplaythrough",function(){function t(){mt(n);e[n].removeEventListener("canplaythrough",t,true)}return t}(),true);pt(t,n)}}function pt(n,r){if(n.tracks.length>0){var i,u,a=n.sd[0].getAttribute("data-num"),f=e[r].getElementsByTagName("track"),c=-2;for(k=0;k<f.length;k++){if(typeof e[r].textTracks!="undefined"){e[r].textTracks[k].mode="hidden"}}N[r][1]=[];while(o[r].cul.firstChild){o[r].cul.removeChild(o[r].cul.firstChild)}if(o[r].captions.className.indexOf("vl_show")<0)o[r].captions.className+=" vl_show";u=document.createTextNode("None");i=ut("li","vl_current");i.setAttribute("data-num",a);i.appendChild(u);o[r].cul.appendChild(i);N[r][1].push(i);i.addEventListener("mousedown",function(){nn(o[r].captionsmenu,this,r,1)},false);for(j=0;j<n.tracks.length;j++){var h,p=Array.prototype.slice.call(f,0);p=p.indexOf(t[r][a].tracks[j]);u=document.createTextNode(t[r][a].tracks[j].getAttribute("label"));if(u.textContent==ot[r]){c=j}else if(ot[r]=="None"){c=-1}if(j==s[r][a]){h=ut("li","vl_current");i.className="";if(typeof e[r].textTracks!="undefined"){if(typeof e[r].textTracks[p]!="undefined"){e[r].textTracks[p].mode="showing"}}}else h=ut("li","");h.setAttribute("data-num",a);h.setAttribute("data-track",j);h.appendChild(u);o[r].cul.appendChild(h);N[r][1].push(h);h.addEventListener("mousedown",function(){nn(o[r].captionsmenu,this,r,1)},false)}if(c>-2){p=Array.prototype.slice.call(f,0);p=p.indexOf(t[r][a].tracks[c]);if(typeof e[r].textTracks!="undefined"){for(k=0;k<f.length;k++){e[r].textTracks[k].mode="hidden"}for(l=0;l<n.tracks.length;l++){o[r].cul.children[l].className=""}if(typeof e[r].textTracks[p]!="undefined"){e[r].textTracks[p].mode="showing"}o[r].cul.children[c+1].className="vl_current"}}}else{N[r][1]=[];while(o[r].cul.firstChild){o[r].cul.removeChild(o[r].cul.firstChild)}if(typeof e[r].textTracks!="undefined"){for(k=0;k<f.length;k++){e[r].textTracks[k].mode="hidden"}}o[r].captions.className="vl_captions"}}function dt(t,n){if(t.hd.length<=0){if(o[n].quality.className.indexOf("vl_remove")<0)o[n].quality.className+=" vl_remove"}else{o[n].quality.className=o[n].quality.className.replace(" vl_remove","")}if(t.sd[0].getAttribute("data-repeatable")=="repeatable"){o[n].repeat.className=o[n].repeat.className.replace(" vl_remove","");if(o[n].repeat.className.indexOf("vl_active")>-1)e[n].loop=true}else{if(o[n].repeat.className.indexOf("vl_remove")<0)o[n].repeat.className+=" vl_remove";e[n].loop=false}}function vt(t){if($[t]){e[t].load();if(tt)e[t].play();$[t]=false}else if(tt)e[t].play()}function mt(t){var n;if(e[t].readyState>=2)e[t].currentTime=U;I[t]="";I[t]=yt(e[t].duration,t);q[t]=e[t].duration;o[t].videotime.innerHTML=R+" / "+I[t]}function gt(t){var n=0,t,r=e[t].getElementsByTagName("source"),i=0,s=0,o;while(i<r.length){if(r[i].getAttribute("data-num")){o=parseFloat(r[i].getAttribute("data-num"));if(n<o)n=o;if(r[i].getAttribute("data-default")){if(r[i].getAttribute("data-default")=="default"){t=o;t++}}}i++}n++;if(t==0)t++;return[t,n]}function yt(e,t){if(isNaN(e))var n="00:00";else{var r=parseInt(e,10);var i=Math.floor(r/3600);var s=Math.floor((r-i*3600)/60);var e=r-i*3600-s*60;if(i<10){i="0"+i}if(s<10){s="0"+s}if(e<10){e="0"+e}if(typeof I[t]==="undefined"){if(i>0)var n=i+":"+s+":"+e;else var n=s+":"+e}else{if(i>0||I[t].length>5)var n=i+":"+s+":"+e;else var n=s+":"+e}}return n}function bt(e){var t=0,n=0;do{t+=e.offsetTop||0;n+=e.offsetLeft||0;e=e.offsetParent}while(e);return{left:n,top:t}}function wt(t){window.addEventListener("resize",function(){Lt(t)},false);e[t].addEventListener("play",function(e){Et(e,t);Kt(t)},false);e[t].addEventListener("pause",function(e){Et(e,t)},false);e[t].addEventListener("waiting",function(){Tt(t)},false);e[t].addEventListener("ended",function(){Vt(t)},false);o[t].container.addEventListener("mousedown",function(){Ct(this)},false);o[t].container.addEventListener("mouseover",function(){Ct(this);St()},false);o[t].container.addEventListener("mouseup",Ot,false);o[t].container.addEventListener("mouseleave",function(){xt(t)},false);o[t].presentationscreen.addEventListener("mouseup",zt,false);o[t].timebar.addEventListener("mouseover",Ht,false);o[t].timebar.addEventListener("mousemove",function(e){Bt(e,t)},false);o[t].timebar.addEventListener("mousedown",function(e){qt(e,t)},false);o[t].timebar.addEventListener("mouseleave",Ft,false);o[t].play.addEventListener("mouseup",zt,false);o[t].playlist.addEventListener("mouseup",function(){en(o[t].playlist,o[t].playlistmenu,true)},false);o[t].pul.addEventListener("scroll",function(){rn(o[t].pscrollbar,0)},false);for(j=0;j<N[t][0].length;j++)N[t][0][j].addEventListener("mousedown",function(){nn(o[t].playlistmenu,this,t,0)},false);o[t].playlistscroll.addEventListener("mousedown",function(e){sn(e,o[t].playlistscroll,o[t].pscrollbar,0)},false);o[t].pshuffle.addEventListener("mouseup",function(){Jt(o[t].pshuffle)},false);o[t].prepeat.addEventListener("mouseup",function(){Jt(o[t].prepeat)},false);o[t].captions.addEventListener("mouseup",function(){en(o[t].captions,o[t].captionsmenu,true)},false);o[t].cul.addEventListener("scroll",function(){rn(o[t].cscrollbar,1)},false);for(j=0;j<N[t][1].length;j++)N[t][1][j].addEventListener("mousedown",function(){nn(o[t].captionsmenu,this,t,1)},false);o[t].captionsscroll.addEventListener("mousedown",function(e){sn(e,o[t].captionsscroll,o[t].cscrollbar,1)},false);o[t].repeat.addEventListener("mouseup",function(){ln(o[t].repeat)},false);o[t].quality.addEventListener("mouseup",function(){ln(o[t].quality)},false);o[t].volume.addEventListener("mouseover",cn,false);o[t].volume.addEventListener("mouseup",hn,false);o[t].volume.addEventListener("mouseleave",pn,false);o[t].volumemenu.addEventListener("mouseover",dn,false);o[t].volumemenu.addEventListener("mouseleave",pn,false);o[t].vbar.addEventListener("mousedown",vn,false);o[t].fullscreen.addEventListener("mouseup",yn,false);window.addEventListener("mouseup",Pt,false)}function Et(e,t){if(e.type=="play"&&o[t].play.className.indexOf("vl_playing")<0){Wt(t)}else if(e.type=="pause"&&o[t].play.className.indexOf("vl_playing")>-1){Xt(t)}}function St(){o[f].container.className=o[f].container.className.replace(" vl_nocursor","");if(et[f])clearTimeout(et[f]);o[f].titles.className=o[f].titles.className.replace("vl_hiding","");o[f].menus.className=o[f].menus.className.replace("vl_hiding","");o[f].controls.className=o[f].controls.className.replace("vl_hiding","")}function xt(t){var n;if(o[t].playlist.className.indexOf("vl_active")<0&&o[t].captions.className.indexOf("vl_active")<0&&e[t].paused==false){et[t]=setTimeout(function(){if(o[t].titles.className.indexOf("vl_hiding")<0)o[t].titles.className+=" vl_hiding";if(o[t].menus.className.indexOf("vl_hiding")<0)o[t].menus.className+=" vl_hiding";if(o[t].controls.className.indexOf("vl_hiding")<0)o[t].controls.className+=" vl_hiding";if(n)clearTimeout(n);if(o[t].fullscreen.className.indexOf("vl_active")>-1){n=setTimeout(function(){if(o[f].container.className.indexOf("vl_nocursor")<0)o[f].container.className+=" vl_nocursor"},300)}},4e3)}}function Tt(t){if(o[t].loadingscreen.className.indexOf("vl_show")<0&&Z[t]==false)o[t].loadingscreen.className+=" vl_show";else o[t].loadingscreen.className="vl_loading_screen";e[t].addEventListener("canplaythrough",Nt,false)}function Nt(){o[Q].loadingscreen.className="vl_loading_screen";e[Q].removeEventListener("canplaythrough",Nt,false)}function Ct(t){f=t.getAttribute("data-num");p[f]=e[f].clientWidth;d[f]=e[f].clientHeight;E[f]=o[f].timetooltip.clientWidth;_[f]=o[f].vbar.clientHeight}function kt(e){var t,n;t=o[e].menus.offsetTop-o[e].titles.clientHeight;n=T[e][0].offsetTop;o[e].presentationscreen.style.height=d[e]-o[e].titles.clientHeight-o[e].controls.clientHeight+"px";b[e]=d[e]-o[e].menus.offsetTop-o[e].controls.clientHeight-t;w[e]=b[e]-n*2}function Lt(e){Ct(o[e].container);kt(e);o[e].container.style.width=p[e]+"px";o[e].container.style.height=d[e]+"px";o[e].menus.style.height=b[e]+"px";o[e].playlisttmbn.style.height=w[e]+"px";o[e].playlistscroll.style.height=w[e]+"px";if(!document.fullscreenElement&&!document.mozFullScreenElement&&!document.webkitFullscreenElement&&!document.msFullscreenElement){St(f);if(o[e].fullscreen.className.indexOf("vl_active")>-1){o[e].fullscreen.className="vl_fullscreen vl_normal"}o[e].container.style.width=v[e];o[e].container.style.height=m[e];o[e].container.style.marginTop=g[e][0];o[e].container.style.marginRight=g[e][1];o[e].container.style.marginBottom=g[e][2];o[e].container.style.marginLeft=g[e][3];o[e].container.style.paddingTop=y[e][0];o[e].container.style.paddingRight=y[e][1];o[e].container.style.paddingBottom=y[e][2];o[e].container.style.paddingLeft=y[e][3];Ct(o[e].container);kt(e);o[e].menus.style.height=b[e]+"px";o[e].playlisttmbn.style.height=w[e]+"px";o[e].playlistscroll.style.height=w[e]+"px";if(At)document.removeEventListener("mousemove",At,false)}else{o[e].fullscreen.className="vl_fullscreen vl_full vl_active";o[e].container.style.width="100%";o[e].container.style.height="100%";o[e].container.style.marginTop="0px";o[e].container.style.marginRight="0px";o[e].container.style.marginBottom="0px";o[e].container.style.marginLeft="0px";o[e].container.style.paddingTop="0px";o[e].container.style.paddingRight="0px";o[e].container.style.paddingBottom="0px";o[e].container.style.paddingLeft="0px";xt(f);document.addEventListener("mousemove",At,false)}en(o[e].playlist,o[e].playlistmenu,false);Yt(e);Qt(e);if(p[e]<=500){if(o[e].container.className.indexOf("vl_maxwidth500")<0)o[e].container.className+=" vl_maxwidth500";if(p[e]<=400){if(o[e].container.className.indexOf("vl_maxwidth400")<0)o[e].container.className+=" vl_maxwidth400"}if(p[e]<=320){if(o[e].container.className.indexOf("vl_maxwidth320")<0)o[e].container.className+=" vl_maxwidth320"}if(p[e]<=280){if(o[e].container.className.indexOf("vl_maxwidth280")<0)o[e].container.className+=" vl_maxwidth280"}if(p[e]<=240){if(o[e].container.className.indexOf("vl_maxwidth240")<0)o[e].container.className+=" vl_maxwidth240"}if(p[e]<=200){if(o[e].container.className.indexOf("vl_maxwidth200")<0)o[e].container.className+=" vl_maxwidth200"}}else{o[e].container.className="vl_ui"}if(d[e]<=400){if(o[e].container.className.indexOf("vl_maxheight400")<0)o[e].container.className+=" vl_maxheight400";if(p[e]<=300){if(o[e].container.className.indexOf("vl_maxheight300")<0)o[e].container.className+=" vl_maxheight300"}if(p[e]<=200){if(o[e].container.className.indexOf("vl_maxheight200")<0)o[e].container.className+=" vl_maxheight200"}}else{o[e].container.className="vl_ui"}}function At(){St(f);xt(f)}function Ot(){window.addEventListener("keydown",Mt,false);rt=f}function Mt(e){var t;if(e.keyCode){t=e.keyCode}else if(e.which){t=e.which}if(t==32){if(e.stopPropagation){e.stopPropagation();e.preventDefault();window.addEventListener("keyup",_t,false)}return false}}function _t(){if(o[rt].play.className.indexOf("vl_playing")<0){Wt(rt);e[rt].play()}else{Xt(rt);e[rt].pause()}window.removeEventListener("keyup",_t,false)}function Dt(){window.removeEventListener("keydown",Mt,false);window.removeEventListener("keyup",zt,false)}function Pt(){window.removeEventListener("mousemove",Rt,false);window.removeEventListener("mousemove",mn,false);window.removeEventListener("mousemove",un,false);window.removeEventListener("mousemove",an,false);o[c].played.className="vl_played";B[c]=false;Y[Q]=false;if(F[c]){o[f].volumemenu.className="vl_volume_menu";o[c].volume.className=o[c].volume.className.replace(" vl_active","")}for(j=0;j<h;j++){o[j].timetooltip.className="vl_timetooltip";o[j].played.className="vl_played";o[j].vlevel.className="vl_volume_level"}}function Ht(e){Q=f;if(x[f]){S[f]=o[f].timetooltip.offsetLeft;x[f]=false}Bt(e,f);o[f].timetooltip.className="vl_timetooltip vl_show"}function Bt(e,t){var n=e.pageX-bt(o[t].container).left,r=It(t);E[t]=o[t].timetooltip.clientWidth;if(n>=p[t]){o[t].timetooltip.innerHTML=yt(r*p[t],t)}else if(n<=0){o[t].timetooltip.innerHTML=yt(0,t)}else o[t].timetooltip.innerHTML=yt(r*n,t);if(n>E[t]/2+S[t]&&n+E[t]/2<=p[t]-S[t]){o[t].timetooltip.style.marginLeft=-(E[t]/2)+"px";o[t].timetooltip.style.left=n+"px"}else if(n+E[t]/2+S[t]>p[t]){o[t].timetooltip.style.marginLeft=-E[t]+"px";o[t].timetooltip.style.left=p[t]-S[t]+"px"}else{o[t].timetooltip.style.marginLeft="0px";o[t].timetooltip.style.left=S[t]+"px"}}function jt(){if(K[Q]==true){Gt(Q)}if(e[Q].buffered.length>0){Kt(Q)}window.removeEventListener("mouseup",jt,false)}function Ft(){if(Y[Q]==false)o[Q].timetooltip.className="vl_timetooltip"}function It(e){var t;if(q[e])t=q[e]/p[e];else t=0;return t}function qt(e,t){if(o[f].presentationscreen.className.indexOf("vl_show")>-1)o[f].presentationscreen.className="vl_presentation_screen";Q=t;c=t;if(o[t].played.className.indexOf("vl_smooth")<0)o[t].played.className+=" vl_smooth";Ut(e,t);window.addEventListener("mousemove",Rt,false);window.addEventListener("mouseup",jt,false);clearInterval(z[t]);Y[t]=true}function Rt(e){Ut(e,f);o[f].played.className="vl_played"}function Ut(t,n){var r=t.pageX-bt(o[n].container).left,i=It(n);if(r>=p[n]){o[n].loadingscreen.className="vl_loadingscreen";Z[n]=true}if(r>=p[n]){o[n].videotime.innerHTML=yt(i*p[n],n)+" / "+I[n]}else if(r<=0){o[n].videotime.innerHTML=yt(0,n)+" / "+I[n]}else o[n].videotime.innerHTML=yt(i*r,n)+" / "+I[n];if(e[n].readyState>=2)e[n].currentTime=i*r;if(r<=p[n]&&r>=0){o[n].played.style.width=r+"px"}else if(r>p[n]){o[n].played.style.width=p[n]+"px"}else o[n].played.style.width="0px";Bt(t,n);o[n].timetooltip.className="vl_timetooltip vl_show"}function zt(){if(o[f].presentationscreen.className.indexOf("vl_show")>-1)o[f].presentationscreen.className="vl_presentation_screen";$[f]=false;Q=f;if(o[f].play.className.indexOf("vl_playing")<0){Wt(f);e[f].play()}else{Xt(f);e[f].pause()}}function Wt(t){if(e[t].ended==true){o[t].play.classList.toggle("vl_playing");o[t].played.style.width="0px";e[t].currentTime=0;R=yt(e[t].currentTime,t);o[t].videotime.innerHTML=R+" / "+I[t];K[t]=false;Gt(t)}else{o[t].play.classList.toggle("vl_playing");if(!isNaN(e[t].duration)){I[t]=yt(e[t].duration,t);q[t]=e[t].duration}else I[t]="00:00";if(e[t].buffered.length>0){Kt(t)}K[t]=true;Gt(t)}}function Xt(e){o[e].play.classList.toggle("vl_playing");K[e]=false;clearInterval(z[e])}function Vt(t){o[t].loadingscreen.className="vl_loading_screen";o[t].played.style.width=p+"px";if(e[t].className.indexOf("vl_playlist")>-1){if(o[t].pshuffle.className.indexOf("vl_active")>-1){var n=0,r=false;it[t]=parseFloat(o[t].pul.getElementsByClassName("vl_current")[0].getAttribute("data-num"));st[t][it[t]]=true;for(n=0;n<st[t].length;n++){if(!st[t][n])r=true}if(r){$t(t)}else{for(n=0;n<st[t].length;n++){st[t][n]=false}if(o[t].prepeat.className.indexOf("vl_active")>-1){st[t][it[t]]=true;$t(t)}}}else{it[t]=parseFloat(o[t].pul.getElementsByClassName("vl_current")[0].getAttribute("data-num"))+1;if(it[t]>=N[t][0].length&&o[t].prepeat.className.indexOf("vl_active")<0)it[t]=N[t][0].length-1;else if(it[t]>=N[t][0].length&&o[t].prepeat.className.indexOf("vl_active")>-1)it[t]=0}nn("",N[t][0][it[t]],t,0)}}function $t(e){var t=Math.random();t=Math.round(t*(st[e].length-1));while(st[e][t]){t=Math.random();t=Math.round(t*(st[e].length-1))}it[e]=t}function Jt(e){e.classList.toggle("vl_active");if(e.className=="vl_playlist_shuffle"){for(j=0;j<st[f].length;j++){st[f][j]=false}}}function Kt(e){clearInterval(X[e]);X[e]=setInterval(function(){Qt(e)},100)}function Qt(t){J[t]=e[t].buffered.length-1;if(J[t]>-1){V=Zt(e[t].buffered.end(J[t]),q[t],p[t]);o[t].loaded.style.width=V+"px";if(e[t].buffered.end(J[t])>=q[t]){clearInterval(X[t])}}}function Gt(e){var t;K[e]=true;clearInterval(z[e]);z[e]=setInterval(function(){Yt(e)},100)}function Yt(t){R=yt(e[t].currentTime,t);if(!isNaN(q[t]))I[t]=yt(q[t],t);else I[t]="00:00";if(!isNaN(e[t].currentTime))R=yt(e[t].currentTime,t);else R="00:00";o[t].videotime.innerHTML=R+" / "+I[t];if(e[t].currentTime<=q[t])current_time=e[t].currentTime;else current_time=q[t];W=Zt(current_time,q[t],p[t]);o[t].played.style.width=W+"px";if(e[t].ended){o[t].play.className="vl_play";clearInterval(z[t])}}function Zt(e,t,n){var r=n/t;r=Math.round(r*e);return r}function en(e,t,n){if(n){e.classList.toggle("vl_active");t.classList.toggle("vl_show");if(o[f].presentationscreen.className.indexOf("vl_show")>-1)o[f].presentationscreen.className="vl_presentation_screen"}if(e.className.indexOf("vl_playlist vl_show vl_active")>-1){kt(f);o[f].playlisttmbn.style.height=w[f]+"px";o[f].playlistscroll.style.height=w[f]+"px";if(o[f].captions.className.indexOf("vl_show vl_active")>-1)o[f].captions.className="vl_captions vl_show";o[f].captionsmenu.className="vl_captions_menu";tn(o[f].playlistmenu,o[f].pscrollbar,0)}else if(e.className.indexOf("vl_captions vl_show vl_active")>-1){if(o[f].playlist.className.indexOf("vl_show vl_active")>-1)o[f].playlist.className="vl_playlist vl_show";o[f].playlistmenu.className="vl_playlist_menu";tn(o[f].captionsmenu,o[f].cscrollbar,1)}else{M[f][0]=0;M[f][1]=0;o[f].playlistmenu.className=o[f].playlistmenu.className.replace(" vl_noscroll","");o[f].captionsmenu.className=o[f].captionsmenu.className.replace(" vl_noscroll","")}}function tn(e,t,n){var r=T[f][n].offsetTop;if(n==1){current_element=o[f].captionsmenu.getElementsByClassName("vl_current")[0].offsetTop-r;T[f][n].scrollTop=current_element;C[f][n]=T[f][n].clientHeight+r;M[f][n]=T[f][n].scrollHeight+r}else{current_element=o[f].playlistmenu.getElementsByClassName("vl_current")[0].offsetTop-r;T[f][n].scrollTop=current_element;C[f][n]=T[f][n].clientHeight;M[f][n]=T[f][n].scrollHeight}L[f][n]=T[f][n].scrollTop;L[f][n]=Math.round(C[f][n]*(L[f][n]/M[f][n]));C[f][n]=Math.round(C[f][n]*(C[f][n]/M[f][n]));if(C[f][n]>=M[f][n]){e.className+=" vl_noscroll"}t.style.height=C[f][n]+"px";t.style.top=L[f][n]+"px"}function nn(n,r,i,u){var a,f,l;a=parseFloat(r.getAttribute("data-num"));if(n!=""){n.className=n.className.replace(" vl_show","");o[i].playlist.className=o[i].playlist.className.replace(" vl_active","");o[i].captions.className=o[i].captions.className.replace(" vl_active","")}if(u==0){if(n!=""){for(j=0;j<st[i].length;j++){st[i][j]=false}}if(r.className=="vl_current"){e[i].currentTime=0}else{for(j=0;j<N[i][u].length;j++){N[i][u][j].className=""}r.className="vl_current";f=a+1;if(o[i].quality.className.indexOf("vl_active")>-1&&t[i][a].hd.length>0){nt=true}tt=true;numstock=i;U=0;o[i].videotitle.innerHTML=t[i][a].sd[0].title;o[i].vidnum.innerHTML=f+"/"+gt(i)[1];ht(t[i][a],i)}}else if(u=1){for(j=0;j<N[i][u].length;j++){N[i][u][j].className=""}l=r.getAttribute("data-track");r.className="vl_current";var c=e[i].getElementsByTagName("track");var h=Array.prototype.slice.call(c,0);h=h.indexOf(t[i][a].tracks[l]);if(typeof e[i].textTracks!="undefined"){for(k=0;k<c.length;k++){e[i].textTracks[k].mode="hidden"}s[i][a]=l;if(typeof e[i].textTracks[h]!="undefined"){e[i].textTracks[h].mode="showing";ot[i]=t[i][a].tracks[l].getAttribute("label")}else if(r.innerHTML=="None"){ot[i]="None"}}}}function rn(e,t){if(t==1){var n=T[f][t].offsetTop;C[f][t]=T[f][t].clientHeight+n;M[f][t]=T[f][t].scrollHeight+n}else C[f][t]=T[f][t].clientHeight;L[f][t]=T[f][t].scrollTop;L[f][t]=Math.round(C[f][t]*(L[f][t]/M[f][t]));e.style.top=L[f][t]+"px"}function sn(e,t,n,r){A=true;on(e,t,n,r);if(r==0)window.addEventListener("mousemove",un,false);else window.addEventListener("mousemove",an,false)}function on(e,t,n,r){var i=T[f][r].clientHeight-n.clientHeight,s=T[f][r].clientHeight;if(r==1){var o=T[f][r].offsetTop;i=T[f][r].clientHeight-n.clientHeight+o;s=T[f][r].clientHeight+o}var u=e.pageY-bt(t).top,a=u-O;max_scroll_menu=T[f][r].scrollHeight-T[f][r].clientHeight;if(typeof e.target.className!="undefined"){if(e.target.className.indexOf("scrollbar")>-1&&A){O=u-n.offsetTop;a=u-O;A=false}else if(A){O=n.clientHeight/2;A=false}}a=u-O;a=Math.round(a*(max_scroll_menu/i));T[f][r].scrollTop=a}function un(e){fn(e,o[f].playlistscroll,o[f].pscrollbar,0)}function an(e){fn(e,o[f].captionsscroll,o[f].cscrollbar,1)}function fn(e,t,n,r){on(e,t,n,r)}function ln(n){var r=parseFloat(e[f].children[0].getAttribute("data-num"));if(n.className=="vl_repeat"){n.classList.toggle("vl_active");e[f].loop=true}else if(n.className=="vl_repeat vl_active"){n.classList.toggle("vl_active");e[f].loop=false}else if(n.className=="vl_quality"){n.classList.toggle("vl_active");U=e[f].currentTime;if(e[f].paused==false)tt=true;else tt=false;c=f;nt=true;ht(t[f][r],f)}else if(n.className=="vl_quality vl_active"){n.classList.toggle("vl_active");U=e[f].currentTime;if(e[f].paused==false)tt=true;else tt=false;c=f;nt=false;ht(t[f][r],f)}}function cn(){Ct(this.parentNode.parentNode.parentNode.parentNode.parentNode);var e;o[f].volumemenu.className="vl_volume_menu vl_show";if(H[f]){_[f]=o[f].vbar.clientHeight;e=_[f]*P[f];if(o[f].vlevel.className.indexOf(" vl_hold")<0)o[f].vlevel.className+=" vl_hold";o[f].vlevel.style.height=e+"px"}F[f]=false}function hn(){c=f;if(o[f].vlevel.clientHeight>0){D[f]=o[f].vlevel.clientHeight;o[f].vlevel.style.height="0px";if(o[f].volume.className.indexOf("vl_mute")<0)o[f].volume.className+=" vl_mute";e[f].muted=true}else if(o[f].volume.className.indexOf("vl_volume vl_mute")<0){o[f].volume.className=o[f].volume.className.replace(" vl_mute","");o[f].vlevel.style.height=D[f]+"px";e[f].muted=false}H[f]=false;o[f].vlevel.className=o[f].vlevel.className.replace(" vl_hold","")}function pn(){if(!B[f]){o[f].volumemenu.className="vl_volume_menu";o[f].volume.className=o[c].volume.className.replace(" vl_active","")}F[f]=true}function dn(){if(o[f].volume.className.indexOf(" vl_active")<0)o[f].volume.className+=" vl_active";o[f].volumemenu.className="vl_volume_menu vl_show";F[f]=false}function vn(e){c=f;if(H[c]){o[c].vlevel.className=o[c].vlevel.className.replace(" vl_hold","");H[c]=false}B[f]=true;gn(e);window.addEventListener("mousemove",mn,false)}function mn(e){gn(e);if(o[c].vlevel.className.indexOf("vl_hold")<0)o[c].vlevel.className+=" vl_hold"}function gn(t){var n=_[c]-(t.pageY-bt(o[c].vbar).top),r,i;e[c].muted=false;if(n>=0)i=n;else i=0;if(_[c]>0)D[c]=_[c];if(i<=D[c]&&i>=0){o[c].vlevel.style.height=i+"px"}else if(i>D[c])o[c].vlevel.style.height=D[c]+"px";else o[c].vlevel.style.height="0px";r=i/D[c];if(r>1)r=1;else if(r>.5&&n>=0)o[c].volume.className="vl_volume vl_loud vl_active";else if(r<=.5&&r>0&&n>=0)o[c].volume.className="vl_volume vl_low vl_active";else if(r<=0&&n>=-_[c])o[c].volume.className="vl_volume vl_mute vl_active";e[c].volume=r}function yn(){if(!document.fullscreenElement&&!document.mozFullScreenElement&&!document.webkitFullscreenElement&&!document.msFullscreenElement){Ct(o[f].container);v[f]=p[f]+"px";m[f]=d[f]+"px";g[f][0]=o[f].container.style.marginTop;g[f][1]=o[f].container.style.marginRight;g[f][2]=o[f].container.style.marginBottom;g[f][3]=o[f].container.style.marginLeft;y[f][0]=o[f].container.style.paddingTop;y[f][1]=o[f].container.style.paddingRight;y[f][2]=o[f].container.style.paddingBottom;y[f][3]=o[f].container.style.paddingLeft;if(o[f].container.requestFullscreen){o[f].container.requestFullscreen()}else if(o[f].container.msRequestFullscreen){o[f].container.msRequestFullscreen()}else if(o[f].container.mozRequestFullScreen){o[f].container.mozRequestFullScreen()}else if(o[f].container.webkitRequestFullscreen){o[f].container.webkitRequestFullscreen()}o[f].container.style.width="100%";o[f].container.style.height="100%"}else{if(document.exitFullscreen){document.exitFullscreen()}else if(document.msExitFullscreen){document.msExitFullscreen()}else if(document.mozCancelFullScreen){document.mozCancelFullScreen()}else if(document.webkitExitFullscreen){document.webkitExitFullscreen()}}}var e=document.getElementsByClassName("videolayer"),t=[],n=[],r=[],s=[],o=[],u=[],a=[],f=0,c=f,h=e.length,p=[],d=[],v=[],m=[],g=[[],[],[],[]],y=[[],[],[],[]],b=[],w=[],E=[],S=[],x=[],T=[],N=[],C=[],L=[],A=true,O=0,M=[],_=[],D=[],P=[],H=[],B=[],F=[],I=[],q=[],R=0,U=0,z=[],W=0,X=[],V=0,$=[],J=[],K=[],Q=0,G=0,Y=[],Z=[],et=[],tt=false,nt=false,rt=0,it=[],st=[],ot=[];ft();}window.addEventListener("load",videolayer);